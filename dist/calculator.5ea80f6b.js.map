{"version":3,"sources":["index.js"],"names":["buttons","document","querySelectorAll","screen","querySelector","expression","operators","calculate","e","input","toElement","key","classList","toggle","innerText","Math","round","math","evaluate","Number","EPSILON","toString","slice","console","log","getAttribute","forEach","button","addEventListener","propertyName","target","remove"],"mappings":";AAAA,IAAIA,EAAUC,SAASC,iBAAiB,WACpCC,EAASF,SAASG,cAAc,gBAChCC,EAAa,GACbC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAK1C,SAASC,EAAUC,GAEbC,IAAAA,EACFD,EAAEE,WAAaT,SAASG,cAAoCI,sBAAAA,OAAAA,EAAEG,IADhE,OAEI,GAACF,EAAD,CAKAA,GAFJA,EAAMG,UAAUC,OAAO,WAEC,MAApBJ,EAAMK,UACJ,IAEFT,GACEU,KAAKC,MAAqD,KAA9CC,KAAKC,SAASb,GAAcc,OAAOC,UAAmB,KAClEC,WACFlB,EAAOW,UAAYT,EACX,QACR,OAGAI,GAAoB,MAApBA,EAAMK,UAGR,OAFAT,EAAa,QACbF,EAAOW,UAAY,IAGjBL,GAAoB,MAApBA,EAAMK,UAIR,OAHAT,EAAaA,EAAWiB,MAAM,GAAI,GAClCnB,EAAOW,UAAYX,EAAOW,UAAUQ,MAAM,GAAI,QAC9CC,QAAQC,IAAInB,GAGVI,GAAoB,QAApBA,EAAMK,UAANL,CAIAA,GAAoB,MAApBA,EAAMK,UAGR,OAFAT,GAAc,aACdF,EAAOW,WAAaL,EAAMK,WAI5BT,GAAcI,EAAMgB,aAAa,aACjCtB,EAAOW,WAAaL,EAAMK,UAC1BS,QAAQC,IAAInB,KA9CdL,EAAQ0B,QAAQ,SAACC,GAAWA,OAAAA,EAAOC,iBAAiB,QAASrB,KAC7DN,SAAS2B,iBAAiB,UAAWrB,GAiDrCP,EAAQ0B,QAAQ,SAACf,GACfA,OAAAA,EAAIiB,iBAAiB,gBAAiB,SAACpB,GACd,cAAnBA,EAAEqB,cACNrB,EAAEsB,OAAOlB,UAAUmB,OAAO","file":"calculator.5ea80f6b.js","sourceRoot":"..","sourcesContent":["var buttons = document.querySelectorAll(\".button\");\nvar screen = document.querySelector(\".calcdisplay\");\nvar expression = \"\";\nvar operators = [\"%\", \"÷\", \"×\", \"-\", \"+\", \".\"];\n\nbuttons.forEach((button) => button.addEventListener(\"click\", calculate));\ndocument.addEventListener(\"keydown\", calculate);\n\nfunction calculate(e) {\n  // get input by click or by keyboard\n  let input =\n    e.toElement || document.querySelector(`.button[data-cont='${e.key}']`);\n  if (!input) return;\n\n  // scale button via JS, because css :active only captures transformed clicked area\n  input.classList.toggle(\"clicked\");\n\n  if (input.innerText === \"=\") {\n    try {\n      // expression = math.evaluate(expression).toString();\n      expression = (\n        Math.round((math.evaluate(expression) + Number.EPSILON) * 1000) / 1000\n      ).toString();\n      screen.innerText = expression;\n    } finally {\n      return;\n    }\n  }\n  if (input.innerText === \"C\") {\n    expression = \"\";\n    screen.innerText = \"\";\n    return;\n  }\n  if (input.innerText === \"⌫\") {\n    expression = expression.slice(0, -1);\n    screen.innerText = screen.innerText.slice(0, -1);\n    console.log(expression);\n    return;\n  }\n  if (input.innerText === \"( )\") {\n    return;\n  }\n\n  if (input.innerText === \"%\") {\n    expression += \"/100*\";\n    screen.innerText += input.innerText;\n    return;\n  }\n\n  expression += input.getAttribute(\"data-cont\");\n  screen.innerText += input.innerText;\n  console.log(expression);\n}\n\n// transition back when clicked\nbuttons.forEach((key) =>\n  key.addEventListener(\"transitionend\", (e) => {\n    if (e.propertyName !== \"transform\") return;\n    e.target.classList.remove(\"clicked\");\n  })\n);\n"]}